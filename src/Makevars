$(info The name of the shared library to be created is: $(SHLIB)) 

# list of required libraries, including our own stored in ../lib
PKG_LIBS = ../lib/lib.a
# all src directory c++ source files
SOURCES = $(wildcard *.cpp)
# compiled objects to link
OBJECTS = $(SOURCES:.cpp=.o)

all: $(SHLIB) ../lib/lib.a clean

# creates package shared library?
$(SHLIB): $(OBJECTS) $(PKG_LIBS)

# builds our library
../lib/lib.a:
	echo $(SOURCES)
	(cd ../lib && make)
	
# return to a clean checkout state, intermediate and terminal steps.
# removing $(SHLIB) results in failed compilation, we need dhc.so
clean:
	rm $(OBJECTS)
	cd ../lib; \
		rm lib.a; \
		rm -f *.o; \
		rm -f *.so;